{% extends 'base_system.html' %}

{% block content %}
<style>
    .table thead th {
        border-bottom: 2px solid #C556FF;
    }

    td {
        overflow: auto;

    }
</style>
<div class="col-md-12 col-xl-9 col-xxl-8 d-flex-block">


    <!-- start CARD DETAIL -->
    <div class="card flex-fill shadow-lg">

        <!-- start CARD HEADER -->
        <div class="card-header d-flex justify-content-between align-items-center">
            <div>
                Detalle de depósito
            </div>
            <div class="">
                <a href="{% url 'deposits:list' %}">
                    <i class="bi bi-list"></i>Ver lista completa</a>
            </div>
        </div>
        <!-- end CARD HEADER -->

        <!-- start CARD BODY -->
        <div class="card-body">

            <!-- start DETAILS HEADER -->
            <div class="card-title d-flex justify-content-between flex-wrap align-content-center">

                <!-- start DETAIL TITLE -->
                <div class="me-2 w-100 align-content-center">
                    <h2>#{{ deposit.id }} | {{ deposit.name | title }}</h2>
                </div>
                <!-- end DETAIL TITLE -->

                <!-- start DETAIL INFO -->
                <div class="mt-1 d-flex aling-items-center">
                    <i class="bi bi-clock-history"></i>&nbsp;Creado el {{ deposit.date_created|date:"d/m/Y" }} a las
                    {{ deposit.date_created|date:"H:i" }}{% if deposit.created_by != None %}&nbsp;por&nbsp;<a href="#"
                        data-bs-toggle="tooltip" data-bs-html="true"
                        title="{{ deposit.created_by.first_name }}&nbsp;{{ deposit.created_by.last_name }}<em><br>{% if deposit.created_by.client != None %}&nbsp;({{ deposit.created_by.client.name }}){% else %}&nbsp;(Sinergia){% endif %}</em>">@{{ deposit.created_by.username }}</a>{% else %}&nbsp;con&nbsp;un
                    evento adminsitrativo{% endif %}
                </div>
                <!-- end DETAIL INFO -->

                <!-- start DETAIL BUTTONS -->
                <div>
                    <a href="{% url 'deposits:edit' deposit.id %}" class="btn btn-secondary btn-sm me-1"><i
                            class="bi bi-pencil me-1"></i>Editar</a>
                    <a href="{% url 'deposits:delete' deposit.id %}" class="btn btn-danger btn-sm me-1"><i
                            class="bi bi-trash me-1"></i>Eliminar</a>
                </div>
                <!-- end DETAIL BUTTONS -->

            </div>
            <!-- end DETAILS HEADER -->

            <hr>

            <!-- start DETAILS -->
            <div class="card-text">

                <table class="table table-bordered">
                    <tbody id="overrided-1" class="overrided-tbody">

                        <!-- row CLIENT -->
                        {% if deposit.client %}
                        <tr>
                            <td class="bg-dark fw-bolder text-nowrap" style="color: white;"><i
                                    class="bi bi-people me-1"></i>Cliente</td>
                            <td class="w-100"><a
                                    href="{% url 'clients:detail' deposit.client.pk %}">{{ deposit.client.name }}</a>
                            </td>
                        </tr>
                        {% endif %}


                        <!-- row ADDRESS -->
                        <tr>
                            <td class="bg-dark fw-bolder text-nowrap" style="color: white;"><i
                                    class="bi bi-geo-alt me-1"></i>Domicilio</td>
                            <td class="w-100">
                                {{ deposit.full_address }}
                            </td>
                        </tr>


                        <!-- row PHONE -->
                        <tr>
                            <td class="bg-dark fw-bolder text-nowrap" style="color: white;"><i
                                    class="bi bi-telephone me-1"></i>Teléfono</td>
                            <td class="w-100">{% if deposit.phone %}{{ deposit.phone }}{% else %}Sin
                                especificar{% endif %}</td>
                        </tr>


                        <!-- row EMAIL -->
                        <tr>
                            <td class="bg-dark fw-bolder text-nowrap" style="color: white;"><i
                                    class="bi bi-at me-1"></i>Correo electrónico</td>
                            <td class="w-100">{% if deposit.email %}{{ client.contact_email }}{% else %}Sin
                                especificar{% endif %}</td>
                        </tr>

                        <!-- row ACTIVE -->
                        <tr>
                            <td class="bg-dark fw-bolder text-nowrap" style="color: white;"><i
                                    class="bi bi-toggles me-1"></i>Activo</td>
                            <td class="w-100">
                                {% if deposit.is_active %}
                                <span class="badge bg-success">Sí</span>
                                {% else %}
                                <span class="badge bg-danger">No</span>
                                {% endif %}
                            </td>
                        </tr>



                    </tbody>
                </table>

            </div>
            <!-- end DETAILS -->

        </div>
    </div>
    <!-- end CARD DETAIL -->


</div>
<!-- end CARD BODY -->


<script>
    function depositClicked() {
        window.location.href = "{% url 'admin-home' %}";
    }
    $(document).ready(function () {
        enableTooltips();
    });
</script>

{% endblock content %}