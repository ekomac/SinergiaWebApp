{% extends 'base.html' %}

{% load static %}

{% block content %}


<main class="form-signin">
    <div class="col-12 col-md-10 col-lg-7 col-xl-5 col-xxl-4 d-flex-block">
        <form method='POST' id="id_form" class="card flex-fill shadow-lg bg-white" name="form" target="_top"
            enctype="multipart/form-data">{% csrf_token %}
            <div class="card-header d-flex justify-content-between align-items-center">
                <div>
                    Reseteo de contraseña obligatorio
                </div>
            </div>
            <div class="card-body">
                <h1 class="h3 mb-3 font-weight-normal">Cambiar contraseña</h1>

                <form method="POST" class="form-signin">{% csrf_token %}
                    <div class="row g-3">
                        <div class="col-12">

                            <input name="old_password"
                                class="form-control {% if form.old_password.errors %}is-invalid{% endif %}"
                                placeholder="Contraseña actual" type="password" id="id_old_password" required="true">
                            <div class="invalid-feedback">
                                {% for error in form.old_password.errors %}
                                {{ error }}
                                {% endfor %}
                            </div>
                        </div>
                        <div class="col-12">
                            <input name="new_password1"
                                class="form-control {% if form.new_password1.errors %}is-invalid{% endif %}"
                                placeholder="Nueva contraseña" type="password" id="id_new_password1" required="true">
                            <div class="invalid-feedback">
                                {% for error in form.new_password1.errors %}
                                {{ error }}
                                {% endfor %}
                            </div>
                        </div>
                        <div class="col-12">
                            <input name="new_password2"
                                class="form-control {% if form.new_password2.errors %}is-invalid{% endif %}"
                                placeholder="Confirmación" type="password" id="id_new_password2" required="true">
                            <div class="invalid-feedback">
                                {% for error in form.new_password2.errors %}
                                {{ error }}
                                {% endfor %}
                            </div>
                        </div>

                        {% for error in login_form.non_field_errors %}
                        <div class="alert alert-danger" role="alert">{{error}}</div>
                        {% endfor %}

                        <div class="d-grid gap-2 d-md-flex">
                            <input type="submit" value="Guardar" class="btn btn-primary">
                        </div>

                    </div>
                </form>
            </div>
        </form>

    </div>
</main>


{% endblock content %}